"use strict";var signa=(()=>{var tt=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var ce=Object.getOwnPropertyNames;var ae=Object.prototype.hasOwnProperty;var fe=(e,t)=>{for(var r in t)tt(e,r,{get:t[r],enumerable:!0})},pe=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ce(t))!ae.call(e,s)&&s!==r&&tt(e,s,{get:()=>t[s],enumerable:!(o=se(t,s))||o.enumerable});return e};var le=e=>pe(tt({},"__esModule",{value:!0}),e);var xt=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var T=(e,t,r)=>(xt(e,t,"read from private field"),r?r.call(e):t.get(e)),R=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},et=(e,t,r,o)=>(xt(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r);var Le={};fe(Le,{app:()=>ie,defComponent:()=>ne,defStore:()=>re,resetStore:()=>oe,resolveStore:()=>Q});var gt=(e,t,r,o,s)=>{let c=r.length,n=t.length,i=c,a=0,l=0,f=null;for(;a<n||l<i;)if(n===a){let p=i<c?l?o(r[l-1],-0).nextSibling:o(r[i],0):s;for(;l<i;)e.insertBefore(o(r[l++],1),p)}else if(i===l)for(;a<n;)(!f||!f.has(t[a]))&&e.removeChild(o(t[a],-1)),a++;else if(t[a]===r[l])a++,l++;else if(t[n-1]===r[i-1])n--,i--;else if(t[a]===r[i-1]&&r[l]===t[n-1]){let p=o(t[--n],-0).nextSibling;e.insertBefore(o(r[l++],1),o(t[a++],-0).nextSibling),e.insertBefore(o(r[--i],1),p),t[n]=r[i]}else{if(!f){f=new Map;let p=l;for(;p<i;)f.set(r[p],p++)}if(f.has(t[a])){let p=f.get(t[a]);if(l<p&&p<i){let h=a,d=1;for(;++h<n&&h<i&&f.get(t[h])===p+d;)d++;if(d>p-l){let C=o(t[a],0);for(;l<p;)e.insertBefore(o(r[l++],1),C)}else e.replaceChild(o(r[l++],1),o(t[a++],-1))}else a++}else e.removeChild(o(t[a++],-1))}return r};var{isArray:L}=Array,{getPrototypeOf:ue,getOwnPropertyDescriptor:he}=Object;var Ct="http://www.w3.org/2000/svg",y=[],j=()=>document.createRange(),g=(e,t,r)=>(e.set(t,r),r),Tt=(e,t)=>{let r;do r=he(e,t);while(!r&&(e=ue(e)));return r},St=(e,t)=>t.reduceRight(de,e),de=(e,t)=>e.childNodes[t];var{setPrototypeOf:me}=Object,Et=e=>{function t(r){return me(r,new.target.prototype)}return t.prototype=e.prototype,t};var w,V=(e,t,r)=>(w||(w=j()),r?w.setStartAfter(e):w.setStartBefore(e),w.setEndAfter(t),w.deleteContents(),e);var rt=({firstChild:e,lastChild:t},r)=>V(e,t,r),wt=!1,U=(e,t)=>wt&&e.nodeType===11?1/t<0?t?rt(e,!0):e.lastChild:t?e.valueOf():e.firstChild:e,bt=e=>document.createComment(e),N,$,S,W=class extends Et(DocumentFragment){constructor(r){super(r);R(this,N,bt("<>"));R(this,$,bt("</>"));R(this,S,y);this.replaceChildren(T(this,N),...r.childNodes,T(this,$)),wt=!0}get firstChild(){return T(this,N)}get lastChild(){return T(this,$)}get parentNode(){return T(this,N).parentNode}remove(){rt(this,!1)}replaceWith(r){rt(this,!0).replaceWith(r)}valueOf(){let{parentNode:r}=this;if(r===this)T(this,S)===y&&et(this,S,[...this.childNodes]);else{if(r){let{firstChild:o,lastChild:s}=this;for(et(this,S,[o]);o!==s;)T(this,S).push(o=o.nextSibling)}this.replaceChildren(...T(this,S))}return this}};N=new WeakMap,$=new WeakMap,S=new WeakMap;var Nt=(e,t,r)=>e.setAttribute(t,r),F=(e,t)=>e.removeAttribute(t),ve=(e,t)=>{for(let r in t){let o=t[r],s=r==="role"?r:`aria-${r}`;o==null?F(e,s):Nt(e,s,o)}return t},B,xe=(e,t,r)=>{r=r.slice(1),B||(B=new WeakMap);let o=B.get(e)||g(B,e,{}),s=o[r];return s&&s[0]&&e.removeEventListener(r,...s),s=L(t)?t:[t,!1],o[r]=s,s[0]&&e.addEventListener(r,...s),t};var E=(e,t)=>{let{t:r,n:o}=e,s=!1;switch(typeof t){case"object":if(t!==null){(o||r).replaceWith(e.n=t.valueOf());break}case"undefined":s=!0;default:r.data=s?"":t,o&&(e.n=null,o.replaceWith(r));break}return t},ge=(e,t)=>nt(e,t,t==null?"class":"className"),Ce=(e,t)=>{let{dataset:r}=e;for(let o in t)t[o]==null?delete r[o]:r[o]=t[o];return t},I=(e,t,r)=>e[r]=t,Te=(e,t,r)=>I(e,t,r.slice(1)),nt=(e,t,r)=>t==null?(F(e,r),t):I(e,t,r),kt=(e,t)=>(typeof t=="function"?t(e):t.current=e,t),ot=(e,t,r)=>(t==null?F(e,r):Nt(e,r,t),t),Se=(e,t)=>t==null?nt(e,t,"style"):I(e.style,t,"cssText"),Ee=(e,t,r)=>(e.toggleAttribute(r.slice(1),t),t),b=(e,t,r)=>{let{length:o}=t;if(e.data=`[${o}]`,o)return gt(e.parentNode,r,t,U,e);switch(r.length){case 1:r[0].remove();case 0:break;default:V(U(r[0],0),U(r.at(-1),-0),!1);break}return y},G=new Map([["aria",ve],["class",ge],["data",Ce],["ref",kt],["style",Se]]),Ot=(e,t,r)=>{var o;switch(t[0]){case".":return Te;case"?":return Ee;case"@":return xe;default:return r||"ownerSVGElement"in e?t==="ref"?kt:ot:G.get(t)||(t in e?t.startsWith("on")?I:(o=Tt(e,t))!=null&&o.set?nt:ot:ot)}},Mt=(e,t)=>(e.textContent=t==null?"":t,t);var k=(e,t,r)=>({a:e,b:t,c:r}),At=(e,t)=>({b:e,c:t}),$t=(e,t,r,o)=>({v:y,u:e,t,n:r,c:o}),v=()=>k(null,null,y);var it=e=>(t,r)=>{let{a:o,b:s,c}=e(t,r),n=document.importNode(o,!0),i=y;if(s!==y){i=[];for(let a,l,f=0;f<s.length;f++){let{a:p,b:h,c:d}=s[f],C=p===l?a:a=St(n,l=p);i[f]=$t(h,C,d,h===b?[]:h===E?v():null)}}return At(c?n.firstChild:new W(n),i)};var Ft=/^(?:plaintext|script|style|textarea|title|xmp)$/i,Dt=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;var be=/<([a-zA-Z0-9]+[a-zA-Z0-9:._-]*)([^>]*?)(\/?)>/g,we=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,Ne=/[\x01\x02]/g,Pt=(e,t,r)=>{let o=0;return e.join("").trim().replace(be,(s,c,n,i)=>`<${c}${n.replace(we,"=$2$1").trimEnd()}${i?r||Dt.test(c)?" /":`></${c}`:""}>`).replace(Ne,s=>s===""?`<!--${t+o++}-->`:t+o++)};var z=document.createElement("template"),st,ct,_t=(e,t)=>{if(t)return st||(st=document.createElementNS(Ct,"svg"),ct=j(),ct.selectNodeContents(st)),ct.createContextualFragment(e);z.innerHTML=e;let{content:r}=z;return z=z.cloneNode(!1),r};var at=e=>{let t=[],r;for(;r=e.parentNode;)t.push(t.indexOf.call(r.childNodes,e)),e=r;return t},Ht=()=>document.createTextNode(""),Me=(e,t,r)=>{let o=_t(Pt(e,D,r),r),{length:s}=e,c=y;if(s>1){let a=[],l=document.createTreeWalker(o,129),f=0,p=`${D}${f++}`;for(c=[];f<s;){let h=l.nextNode();if(h.nodeType===8){if(h.data===p){let d=L(t[f-1])?b:E;d===E&&a.push(h),c.push(k(at(h),d,null)),p=`${D}${f++}`}}else{let d;for(;h.hasAttribute(p);){d||(d=at(h));let C=h.getAttribute(p);c.push(k(d,Ot(h,C,r),C)),F(h,p),p=`${D}${f++}`}!r&&Ft.test(h.localName)&&h.textContent.trim()===`<!--${p}-->`&&(c.push(k(d||at(h),Mt,null)),p=`${D}${f++}`)}}for(f=0;f<a.length;f++)a[f].replaceWith(Ht())}let{childNodes:n}=o,{length:i}=n;return i<1?(i=1,o.appendChild(Ht())):i===1&&s!==1&&n[0].nodeType!==1&&(i=0),g(Rt,e,k(o,c,i===1))},Rt=new WeakMap,D="is\xB5",ft=e=>(t,r)=>Rt.get(t)||Me(t,r,e);var Ae=it(ft(!1)),$e=it(ft(!0)),pt=(e,{s:t,t:r,v:o})=>{if(e.a!==r){let{b:s,c}=(t?$e:Ae)(r,o);e.a=r,e.b=s,e.c=c}for(let{c:s}=e,c=0;c<s.length;c++){let n=o[c],i=s[c];switch(i.u){case b:i.v=b(i.t,Fe(i.c,n),i.v);break;case E:let a=n instanceof x?pt(i.c||(i.c=v()),n):(i.c=null,n);a!==i.v&&(i.v=E(i,a));break;default:n!==i.v&&(i.v=i.u(i.t,n,i.n,i.v));break}}return e.b},Fe=(e,t)=>{let r=0,{length:o}=t;for(o<e.length&&e.splice(o);r<o;r++){let s=t[r];s instanceof x?t[r]=pt(e[r]||(e[r]=v()),s):e[r]=null}return t},x=class{constructor(t,r,o){this.s=t,this.t=r,this.v=o}toDOM(t=v()){return pt(t,this)}};var Lt=e=>(t,...r)=>new x(e,t,r),Z=Lt(!1),jt=Lt(!0);var Vt=new WeakMap,X=(e,t,r)=>{let o=Vt.get(e)||g(Vt,e,v()),{b:s}=o,c=r&&typeof t=="function"?t():t,n=c instanceof x?c.toDOM(o):c;return s!==n&&e.replaceChildren((o.b=n).valueOf()),e};var Wt=new WeakMap,Ut=e=>(t,r)=>{function o(c,...n){return new x(e,c,n).toDOM(this)}let s=Wt.get(t)||g(Wt,t,new Map);return s.get(r)||g(s,r,o.bind(v()))},lt=Ut(!1),De=Ut(!0);var It=new FinalizationRegistry(([e,t,r])=>{r&&console.debug(`%c${String(t)}`,"font-weight:bold","collected"),e(t)}),Bt=Object.create(null),Gt=(e,t,{debug:r,handler:o,return:s,token:c=e}=Bt)=>{let n=s||new Proxy(e,o||Bt),i=[n,[t,e,!!r]];return c!==!1&&i.push(c),It.register(...i),n},zt=e=>It.unregister(e);var ut=new WeakMap,Pe=e=>e(),q=!0,ht=e=>(t,r)=>{if(q=typeof r!="function",Zt(t),q)return X(t,r,!1);q=!0;let o=new WeakRef(t),s=e(()=>{X(o.deref(),r(),!1)});return ut.set(t,s),Gt(s,Pe,{return:t})},Zt=e=>{let t=ut.get(e);t&&(q&&ut.delete(e),zt(t),t())};var _e=Symbol.for("preact-signals");function mt(){if(O>1)O--;else{for(var e,t=!1;P!==void 0;){var r=P;for(P=void 0,dt++;r!==void 0;){var o=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&qt(r))try{r.c()}catch(s){t||(e=s,t=!0)}r=o}}if(dt=0,O--,t)throw e}}var u=void 0;var P=void 0,O=0,dt=0,J=0;function Xt(e){if(u!==void 0){var t=e.n;if(t===void 0||t.t!==u)return t={i:0,S:e,p:u.s,n:void 0,t:u,e:void 0,x:void 0,r:t},u.s!==void 0&&(u.s.n=t),u.s=t,e.n=t,32&u.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=u.s,t.n=void 0,u.s.n=t,u.s=t),t}}function m(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}m.prototype.brand=_e;m.prototype.h=function(){return!0};m.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};m.prototype.U=function(e){if(this.t!==void 0){var t=e.e,r=e.x;t!==void 0&&(t.x=r,e.e=void 0),r!==void 0&&(r.e=t,e.x=void 0),e===this.t&&(this.t=r)}};m.prototype.subscribe=function(e){var t=this;return A(function(){var r=t.value,o=u;u=void 0;try{e(r)}finally{u=o}})};m.prototype.valueOf=function(){return this.value};m.prototype.toString=function(){return this.value+""};m.prototype.toJSON=function(){return this.value};m.prototype.peek=function(){var e=u;u=void 0;try{return this.value}finally{u=e}};Object.defineProperty(m.prototype,"value",{get:function(){var e=Xt(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(dt>100)throw new Error("Cycle detected");this.v=e,this.i++,J++,O++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{mt()}}}});function _(e){return new m(e)}function qt(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function Jt(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function Yt(e){for(var t=e.s,r=void 0;t!==void 0;){var o=t.p;t.i===-1?(t.S.U(t),o!==void 0&&(o.n=t.n),t.n!==void 0&&(t.n.p=o)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=o}e.s=r}function M(e){m.call(this,void 0),this.x=e,this.s=void 0,this.g=J-1,this.f=4}(M.prototype=new m).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===J))return!0;if(this.g=J,this.f|=1,this.i>0&&!qt(this))return this.f&=-2,!0;var e=u;try{Jt(this),u=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return u=e,Yt(this),this.f&=-2,!0};M.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}m.prototype.S.call(this,e)};M.prototype.U=function(e){if(this.t!==void 0&&(m.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};M.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(M.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=Xt(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Y(e){return new M(e)}function Kt(e){var t=e.u;if(e.u=void 0,typeof t=="function"){O++;var r=u;u=void 0;try{t()}catch(o){throw e.f&=-2,e.f|=8,yt(e),o}finally{u=r,mt()}}}function yt(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,Kt(e)}function He(e){if(u!==this)throw new Error("Out-of-order effect");Yt(this),u=e,this.f&=-2,8&this.f&&yt(this),mt()}function H(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}H.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};H.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Kt(this),Jt(this),O++;var e=u;return u=this,He.bind(this,e)};H.prototype.N=function(){2&this.f||(this.f|=2,this.o=P,P=this)};H.prototype.d=function(){this.f|=8,1&this.f||yt(this)};function A(e){var t=new H(e);try{t.c()}catch(r){throw t.d(),r}return t.d.bind(t)}var vt=[];function Qt(){return{cleanups:[],currentPhase:null}}function te(e,t){e.currentPhase=t,vt.push(e)}function ee(){if(vt.length===0){console.warn("Attempting to pop empty context stack");return}let e=vt.pop();e&&(e.currentPhase=null)}var K={};function re(e,t){if(K[e])throw new Error(`Store "${e}" is already defined`);K[e]={factory:t}}function Q(e){let t=K[e];if(!t)throw new Error(`Store "${e}" is not defined`);return t.instance||(t.instance=t.factory({signal:_,effect:A,computed:Y})),t.instance}function oe(e){let t=K[e];t&&(t.instance=void 0)}function ne(e,t){let r=ht(A);class o extends HTMLElement{constructor(){super();this.cleanup=[];this.isMounted=!1;this.slots={default:[]};this.props=new Map;this.observedProps=new Set;this.hooksContext=Qt()}static get observedAttributes(){return Array.from(this.prototype.observedProps||[]).map(n=>`data-${n}`)}$(n){return this[n]}emitEvent(n,i){this.dispatchEvent(new CustomEvent(n,{detail:i}))}createComponentContext(){let n=Object.assign(i=>this.slots[i]||[],{default:this.slots.default});return{signal:_,effect:A,computed:Y,html:Z,htmlFor:lt,prop:i=>{let{name:a,type:l,default:f}=i;this.observedProps.add(a);let p=`data-${a}`,h=this.getAttribute(p),d=h!==null?this.parseAttributeValue(h,l):f!=null?f:this.getDefaultForType(l),C=_(d);return this.props.set(a,C),C},slot:n,useStore:i=>Q(i)}}getDefaultForType(n){switch(n){case String:return"";case Number:return 0;case Boolean:return!1;case Object:return{};case Array:return[];default:return null}}parseAttributeValue(n,i){switch(i){case Number:return Number(n);case Boolean:return n!==null&&n!=="false";case Object:case Array:try{return JSON.parse(n)}catch{return i===Object?{}:[]}default:return n}}collectSlots(){let n={default:[]};Array.from(this.childNodes).forEach(i=>{if(i instanceof Element){let a=i.getAttribute("data-slot");a?(n[a]=n[a]||[],Array.from(i.childNodes).forEach(l=>{n[a].push(l)})):n.default.push(i)}else n.default.push(i)}),this.slots=n}attributeChangedCallback(n,i,a){let l=n.replace(/^data-/,""),f=this.props.get(l);if(f){let p=this.getTypeFromValue(f.value);f.value=this.parseAttributeValue(a,p)}}getTypeFromValue(n){switch(typeof n){case"string":return String;case"number":return Number;case"boolean":return Boolean;case"object":return Array.isArray(n)?Array:Object;default:return String}}connectedCallback(){this.isMounted=!0,requestAnimationFrame(()=>{if(this.isMounted)try{this.collectSlots(),te(this.hooksContext,"setup");let n=t(this.createComponentContext()),i=r(this,n);this.cleanup.push(i),ee()}catch(n){console.error(`Error mounting component ${this.tagName.toLowerCase()}:`,n),this.handleMountError(n)}})}disconnectedCallback(){this.isMounted=!1,this.cleanup.forEach(n=>n()),this.cleanup=[],this.hooksContext.cleanups.forEach(n=>n()),this.hooksContext.cleanups=[]}handleMountError(n){let i=document.createElement("div");i.style.cssText="padding: 1rem; border: 1px solid #ff0000; border-radius: 4px; margin: 0.5rem; color: #ff0000;",i.innerHTML=`<div>Error in component ${this.tagName.toLowerCase()}</div> <pre style="font-size: 0.8em; margin-top: 0.5rem;">${n instanceof Error?n.message:"Unknown error"}</pre>`,this.innerHTML="",this.appendChild(i)}}customElements.get(e)||customElements.define(e,o)}var Re=()=>{let e={};return{register:(c,n)=>{if(e[c])throw new Error(`Service ${c} already registered`);if(!c.match(/^[a-zA-Z][a-zA-Z0-9_]*$/))throw new Error(`Invalid service name: ${c}`);e[c]={factory:n}},get:(c,...n)=>{let i=e[c];if(!i)throw new Error(`Service ${c} not found`);return i.instance||(i.instance=i.factory(...n)),i.instance},clear:()=>{Object.keys(e).forEach(c=>{delete e[c]})},clearService:c=>{e[c]&&delete e[c]}}},ie={...Re()};return le(Le);})();
/*! Bundled license information:

uhtml/esm/index.js:
  (*! (c) Andrea Giammarchi - MIT *)

uhtml/esm/keyed.js:
  (*! (c) Andrea Giammarchi - MIT *)
*/
