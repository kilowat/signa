var signa=(()=>{var Y=Object.defineProperty;var ce=Object.getOwnPropertyDescriptor;var fe=Object.getOwnPropertyNames;var ae=Object.prototype.hasOwnProperty;var le=(e,t)=>{for(var o in t)Y(e,o,{get:t[o],enumerable:!0})},pe=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fe(t))!ae.call(e,i)&&i!==o&&Y(e,i,{get:()=>t[i],enumerable:!(r=ce(t,i))||r.enumerable});return e};var ue=e=>pe(Y({},"__esModule",{value:!0}),e);var Pe={};le(Pe,{createRouter:()=>ie,defComponent:()=>te,defStore:()=>K,eventBus:()=>ne,getAppContext:()=>re,inject:()=>oe,provide:()=>ee});var xt=(e,t,o,r,i)=>{let s=o.length,n=t.length,c=s,l=0,d=0,f=null;for(;l<n||d<c;)if(n===l){let a=c<s?d?r(o[d-1],-0).nextSibling:r(o[c],0):i;for(;d<c;)e.insertBefore(r(o[d++],1),a)}else if(c===d)for(;l<n;)(!f||!f.has(t[l]))&&e.removeChild(r(t[l],-1)),l++;else if(t[l]===o[d])l++,d++;else if(t[n-1]===o[c-1])n--,c--;else if(t[l]===o[c-1]&&o[d]===t[n-1]){let a=r(t[--n],-0).nextSibling;e.insertBefore(r(o[d++],1),r(t[l++],-0).nextSibling),e.insertBefore(r(o[--c],1),a),t[n]=o[c]}else{if(!f){f=new Map;let a=d;for(;a<c;)f.set(o[a],a++)}if(f.has(t[l])){let a=f.get(t[l]);if(d<a&&a<c){let p=l,h=1;for(;++p<n&&p<c&&f.get(t[p])===a+h;)h++;if(h>a-d){let m=r(t[l],0);for(;d<a;)e.insertBefore(r(o[d++],1),m)}else e.replaceChild(r(o[d++],1),r(t[l++],-1))}else l++}else e.removeChild(r(t[l++],-1))}return o};var{isArray:P}=Array,{getPrototypeOf:he,getOwnPropertyDescriptor:de}=Object;var vt="http://www.w3.org/2000/svg",v=[],U=()=>document.createRange(),E=(e,t,o)=>(e.set(t,o),o),yt=(e,t)=>{let o;do o=de(e,t);while(!o&&(e=he(e)));return o},gt=(e,t)=>t.reduceRight(me,e),me=(e,t)=>e.childNodes[t];var{setPrototypeOf:xe}=Object,Et=e=>{function t(o){return xe(o,new.target.prototype)}return t.prototype=e.prototype,t};var O,H=(e,t,o)=>(O||(O=U()),o?O.setStartAfter(e):O.setStartBefore(e),O.setEndAfter(t),O.deleteContents(),e);var Q=({firstChild:e,lastChild:t},o)=>H(e,t,o),Ct=!1,B=(e,t)=>Ct&&e.nodeType===11?1/t<0?t?Q(e,!0):e.lastChild:t?e.valueOf():e.firstChild:e,wt=e=>document.createComment(e),V=class extends Et(DocumentFragment){#e=wt("<>");#o=wt("</>");#t=v;constructor(t){super(t),this.replaceChildren(this.#e,...t.childNodes,this.#o),Ct=!0}get firstChild(){return this.#e}get lastChild(){return this.#o}get parentNode(){return this.#e.parentNode}remove(){Q(this,!1)}replaceWith(t){Q(this,!0).replaceWith(t)}valueOf(){let{parentNode:t}=this;if(t===this)this.#t===v&&(this.#t=[...this.childNodes]);else{if(t){let{firstChild:o,lastChild:r}=this;for(this.#t=[o];o!==r;)this.#t.push(o=o.nextSibling)}this.replaceChildren(...this.#t)}return this}};var bt=(e,t,o)=>e.setAttribute(t,o),F=(e,t)=>e.removeAttribute(t),ye=(e,t)=>{for(let o in t){let r=t[o],i=o==="role"?o:`aria-${o}`;r==null?F(e,i):bt(e,i,r)}return t},G,ge=(e,t,o)=>{o=o.slice(1),G||(G=new WeakMap);let r=G.get(e)||E(G,e,{}),i=r[o];return i&&i[0]&&e.removeEventListener(o,...i),i=P(t)?t:[t,!1],r[o]=i,i[0]&&e.addEventListener(o,...i),t};var b=(e,t)=>{let{t:o,n:r}=e,i=!1;switch(typeof t){case"object":if(t!==null){(r||o).replaceWith(e.n=t.valueOf());break}case"undefined":i=!0;default:o.data=i?"":t,r&&(e.n=null,r.replaceWith(o));break}return t},Ee=(e,t)=>et(e,t,t==null?"class":"className"),we=(e,t)=>{let{dataset:o}=e;for(let r in t)t[r]==null?delete o[r]:o[r]=t[r];return t},Z=(e,t,o)=>e[o]=t,Ce=(e,t,o)=>Z(e,t,o.slice(1)),et=(e,t,o)=>t==null?(F(e,o),t):Z(e,t,o),St=(e,t)=>(typeof t=="function"?t(e):t.current=e,t),tt=(e,t,o)=>(t==null?F(e,o):bt(e,o,t),t),be=(e,t)=>t==null?et(e,t,"style"):Z(e.style,t,"cssText"),Se=(e,t,o)=>(e.toggleAttribute(o.slice(1),t),t),N=(e,t,o)=>{let{length:r}=t;if(e.data=`[${r}]`,r)return xt(e.parentNode,o,t,B,e);switch(o.length){case 1:o[0].remove();case 0:break;default:H(B(o[0],0),B(o.at(-1),-0),!1);break}return v},z=new Map([["aria",ye],["class",Ee],["data",we],["ref",St],["style",be]]),Nt=(e,t,o)=>{switch(t[0]){case".":return Ce;case"?":return Se;case"@":return ge;default:return o||"ownerSVGElement"in e?t==="ref"?St:tt:z.get(t)||(t in e?t.startsWith("on")?Z:yt(e,t)?.set?et:tt:tt)}},Mt=(e,t)=>(e.textContent=t??"",t);var A=(e,t,o)=>({a:e,b:t,c:o}),Ot=(e,t)=>({b:e,c:t}),At=(e,t,o,r)=>({v,u:e,t,n:o,c:r}),y=()=>A(null,null,v);var ot=e=>(t,o)=>{let{a:r,b:i,c:s}=e(t,o),n=document.importNode(r,!0),c=v;if(i!==v){c=[];for(let l,d,f=0;f<i.length;f++){let{a,b:p,c:h}=i[f],m=a===d?l:l=gt(n,d=a);c[f]=At(p,m,h,p===N?[]:p===b?y():null)}}return Ot(s?n.firstChild:new V(n),c)};var kt=/^(?:plaintext|script|style|textarea|title|xmp)$/i,Tt=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;var Ne=/<([a-zA-Z0-9]+[a-zA-Z0-9:._-]*)([^>]*?)(\/?)>/g,Me=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,Oe=/[\x01\x02]/g,$t=(e,t,o)=>{let r=0;return e.join("").trim().replace(Ne,(i,s,n,c)=>`<${s}${n.replace(Me,"=$2$1").trimEnd()}${c?o||Tt.test(s)?" /":`></${s}`:""}>`).replace(Oe,i=>i===""?`<!--${t+r++}-->`:t+r++)};var I=document.createElement("template"),rt,nt,Dt=(e,t)=>{if(t)return rt||(rt=document.createElementNS(vt,"svg"),nt=U(),nt.selectNodeContents(rt)),nt.createContextualFragment(e);I.innerHTML=e;let{content:o}=I;return I=I.cloneNode(!1),o};var it=e=>{let t=[],o;for(;o=e.parentNode;)t.push(t.indexOf.call(o.childNodes,e)),e=o;return t},_t=()=>document.createTextNode(""),Te=(e,t,o)=>{let r=Dt($t(e,L,o),o),{length:i}=e,s=v;if(i>1){let l=[],d=document.createTreeWalker(r,129),f=0,a=`${L}${f++}`;for(s=[];f<i;){let p=d.nextNode();if(p.nodeType===8){if(p.data===a){let h=P(t[f-1])?N:b;h===b&&l.push(p),s.push(A(it(p),h,null)),a=`${L}${f++}`}}else{let h;for(;p.hasAttribute(a);){h||(h=it(p));let m=p.getAttribute(a);s.push(A(h,Nt(p,m,o),m)),F(p,a),a=`${L}${f++}`}!o&&kt.test(p.localName)&&p.textContent.trim()===`<!--${a}-->`&&(s.push(A(h||it(p),Mt,null)),a=`${L}${f++}`)}}for(f=0;f<l.length;f++)l[f].replaceWith(_t())}let{childNodes:n}=r,{length:c}=n;return c<1?(c=1,r.appendChild(_t())):c===1&&i!==1&&n[0].nodeType!==1&&(c=0),E(Ft,e,A(r,s,c===1))},Ft=new WeakMap,L="is\xB5",st=e=>(t,o)=>Ft.get(t)||Te(t,o,e);var $e=ot(st(!1)),De=ot(st(!0)),ct=(e,{s:t,t:o,v:r})=>{if(e.a!==o){let{b:i,c:s}=(t?De:$e)(o,r);e.a=o,e.b=i,e.c=s}for(let{c:i}=e,s=0;s<i.length;s++){let n=r[s],c=i[s];switch(c.u){case N:c.v=N(c.t,_e(c.c,n),c.v);break;case b:let l=n instanceof g?ct(c.c||(c.c=y()),n):(c.c=null,n);l!==c.v&&(c.v=b(c,l));break;default:n!==c.v&&(c.v=c.u(c.t,n,c.n,c.v));break}}return e.b},_e=(e,t)=>{let o=0,{length:r}=t;for(r<e.length&&e.splice(r);o<r;o++){let i=t[o];i instanceof g?t[o]=ct(e[o]||(e[o]=y()),i):e[o]=null}return t},g=class{constructor(t,o,r){this.s=t,this.t=o,this.v=r}toDOM(t=y()){return ct(t,this)}};var Lt=e=>(t,...o)=>new g(e,t,o),k=Lt(!1),Rt=Lt(!0);var Wt=new WeakMap,X=(e,t,o)=>{let r=Wt.get(e)||E(Wt,e,y()),{b:i}=r,s=o&&typeof t=="function"?t():t,n=s instanceof g?s.toDOM(r):s;return i!==n&&e.replaceChildren((r.b=n).valueOf()),e};var jt=new WeakMap,Pt=e=>(t,o)=>{function r(s,...n){return new g(e,s,n).toDOM(this)}let i=jt.get(t)||E(jt,t,new Map);return i.get(o)||E(i,o,r.bind(y()))},R=Pt(!1),Fe=Pt(!0);var Ht=new FinalizationRegistry(([e,t,o])=>{o&&console.debug(`%c${String(t)}`,"font-weight:bold","collected"),e(t)}),Ut=Object.create(null),Vt=(e,t,{debug:o,handler:r,return:i,token:s=e}=Ut)=>{let n=i||new Proxy(e,r||Ut),c=[n,[t,e,!!o]];return s!==!1&&c.push(s),Ht.register(...c),n},Bt=e=>Ht.unregister(e);var ft=new WeakMap,Le=e=>e(),q=!0,at=e=>(t,o)=>{if(q=typeof o!="function",Gt(t),q)return X(t,o,!1);q=!0;let r=new WeakRef(t),i=e(()=>{X(r.deref(),o(),!1)});return ft.set(t,i),Vt(i,Le,{return:t})},Gt=e=>{let t=ft.get(e);t&&(q&&ft.delete(e),Bt(t),t())};var Re=Symbol.for("preact-signals");function pt(){if(T>1)T--;else{for(var e,t=!1;W!==void 0;){var o=W;for(W=void 0,lt++;o!==void 0;){var r=o.o;if(o.o=void 0,o.f&=-3,!(8&o.f)&&It(o))try{o.c()}catch(i){t||(e=i,t=!0)}o=r}}if(lt=0,T--,t)throw e}}var u=void 0;function Zt(e){var t=u;u=void 0;try{return e()}finally{u=t}}var W=void 0,T=0,lt=0,J=0;function zt(e){if(u!==void 0){var t=e.n;if(t===void 0||t.t!==u)return t={i:0,S:e,p:u.s,n:void 0,t:u,e:void 0,x:void 0,r:t},u.s!==void 0&&(u.s.n=t),u.s=t,e.n=t,32&u.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=u.s,t.n=void 0,u.s.n=t,u.s=t),t}}function x(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}x.prototype.brand=Re;x.prototype.h=function(){return!0};x.prototype.S=function(e){var t=this,o=this.t;o!==e&&e.e===void 0&&(e.x=o,this.t=e,o!==void 0?o.e=e:Zt(function(){var r;(r=t.W)==null||r.call(t)}))};x.prototype.U=function(e){var t=this;if(this.t!==void 0){var o=e.e,r=e.x;o!==void 0&&(o.x=r,e.e=void 0),r!==void 0&&(r.e=o,e.x=void 0),e===this.t&&(this.t=r,r===void 0&&Zt(function(){var i;(i=t.Z)==null||i.call(t)}))}};x.prototype.subscribe=function(e){var t=this;return S(function(){var o=t.value,r=u;u=void 0;try{e(o)}finally{u=r}},{name:"sub"})};x.prototype.valueOf=function(){return this.value};x.prototype.toString=function(){return this.value+""};x.prototype.toJSON=function(){return this.value};x.prototype.peek=function(){var e=u;u=void 0;try{return this.value}finally{u=e}};Object.defineProperty(x.prototype,"value",{get:function(){var e=zt(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(lt>100)throw new Error("Cycle detected");this.v=e,this.i++,J++,T++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{pt()}}}});function w(e,t){return new x(e,t)}function It(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function Xt(e){for(var t=e.s;t!==void 0;t=t.n){var o=t.S.n;if(o!==void 0&&(t.r=o),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function qt(e){for(var t=e.s,o=void 0;t!==void 0;){var r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):o=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}e.s=o}function M(e,t){x.call(this,void 0),this.x=e,this.s=void 0,this.g=J-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}M.prototype=new x;M.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===J))return!0;if(this.g=J,this.f|=1,this.i>0&&!It(this))return this.f&=-2,!0;var e=u;try{Xt(this),u=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(o){this.v=o,this.f|=16,this.i++}return u=e,qt(this),this.f&=-2,!0};M.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}x.prototype.S.call(this,e)};M.prototype.U=function(e){if(this.t!==void 0&&(x.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};M.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(M.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=zt(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function $(e,t){return new M(e,t)}function Jt(e){var t=e.u;if(e.u=void 0,typeof t=="function"){T++;var o=u;u=void 0;try{t()}catch(r){throw e.f&=-2,e.f|=8,ut(e),r}finally{u=o,pt()}}}function ut(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,Jt(e)}function We(e){if(u!==this)throw new Error("Out-of-order effect");qt(this),u=e,this.f&=-2,8&this.f&&ut(this),pt()}function D(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}D.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};D.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Jt(this),Xt(this),T++;var e=u;return u=this,We.bind(this,e)};D.prototype.N=function(){2&this.f||(this.f|=2,this.o=W,W=this)};D.prototype.d=function(){this.f|=8,1&this.f||ut(this)};D.prototype.dispose=function(){this.d()};function S(e,t){var o=new D(e,t);try{o.c()}catch(i){throw o.d(),i}var r=o.d.bind(o);return r[Symbol.dispose]=r,r}var ht=[];function Kt(){return{cleanups:[],currentPhase:null}}function Yt(e,t){e.currentPhase=t,ht.push(e)}function Qt(){if(ht.length===0){console.warn("Attempting to pop empty context stack");return}let e=ht.pop();e&&(e.currentPhase=null)}var dt={};function K(e,t){if(dt[e])throw new Error(`Store "${e}" is already defined`);dt[e]={factory:t}}function _(e){let t=dt[e];if(!t)throw new Error(`Store "${e}" is not defined`);return t.instance||(t.instance=t.factory({signal:w,effect:S,computed:$})),t.instance}function je(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}function te(e,t){let o=at(S);class r extends HTMLElement{constructor(){super(),this.hooksContext=Kt(),this.cleanup=[],this.isMounted=!1,this.slots={default:[]},this.props=new Map}createComponentContext(){let s=Object.assign(n=>this.slots[n]||[],{default:this.slots.default});return{$this:this,signal:w,effect:n=>{let c=S(()=>{let l=n();typeof l=="function"&&this.hooksContext.cleanups.push(l)});this.hooksContext.cleanups.push(()=>c())},computed:$,html:k,htmlFor:R,prop:({name:n,type:c,default:l,readonly:d=!0})=>{let f=this[n];if(c===Function&&typeof f=="function")return this.props.set(n,f),f;if(f&&typeof f.peek=="function"){if(d){let C={get value(){return f.value},set value(mt){console.warn("prop "+n+" is readonly")},peek:f.peek.bind(f)};return this.props.set(n,C),C}return this.props.set(n,f),f}if(f!==void 0){let C=w(f);return this.props.set(n,C),C}let a=this.getAttribute(`data-${n}`),p=a===null?this.getAttribute(`data-${je(n)}`):a,h=p!==null?this.parseAttributeValue(p,c):l!==void 0?l:this.getDefaultForType(c),m=w(h);return this.props.set(n,m),m},slot:s,store:n=>_(n)}}getDefaultForType(s){switch(s){case String:return"";case Number:return 0;case Boolean:return!1;case Object:return{};case Array:return[];default:return null}}parseAttributeValue(s,n){if(s===null)return null;switch(n){case Number:return Number(s);case Boolean:return s!=="false";case Object:case Array:try{return JSON.parse(s)}catch{return n===Object?{}:[]}default:return s}}collectSlots(){let s={default:[]};Array.from(this.childNodes).forEach(n=>{if(n instanceof Element){let c=n.getAttribute("data-slot");c?(s[c]=s[c]||[],s[c].push(...Array.from(n.childNodes))):s.default.push(n)}else s.default.push(n)}),this.slots=s}connectedCallback(){this.isMounted=!0,requestAnimationFrame(()=>{if(this.isMounted)try{this.collectSlots(),Yt(this.hooksContext,"setup");let s=t(this.createComponentContext()),n=o(this,s);typeof n=="function"&&this.cleanup.push(n),Qt()}catch(s){console.error(`Error mounting component ${this.tagName.toLowerCase()}:`,s),this.handleMountError(s)}})}disconnectedCallback(){this.isMounted=!1,this.cleanup.forEach(s=>{try{s()}catch{}}),this.cleanup=[],this.hooksContext.cleanups.forEach(s=>{try{s()}catch{}}),this.hooksContext.cleanups=[]}handleMountError(s){let n=document.createElement("div");n.style.cssText="padding: 1rem; border: 1px solid #ff0000; border-radius: 4px; margin: 0.5rem; color: #ff0000;",n.innerHTML=`
                <div>Error in component ${this.tagName.toLowerCase()}</div>
                <pre style="font-size: 0.8em; margin-top: 0.5rem;">${s instanceof Error?s.message:"Unknown error"}</pre>
            `,this.innerHTML="",this.appendChild(n)}}if(customElements.get(e))throw new Error(`Component "${e}" is already defined`);customElements.define(e,r)}var j=new Map;function ee(e,t){j.has(e)&&console.warn(`Context key "${e}" allready register`),j.set(e,t)}function oe(e){if(!j.has(e))throw new Error(`Context key "${e}" not found`);return j.get(e)}function re(){return j}K("event:bus",({signal:e})=>{let t=e(null);return{emit:(o,r)=>{t.value={type:o,payload:r,ts:Date.now()}},on:(o,r)=>{S(()=>{let i=t.value;i&&i.type===o&&r(i.payload)})}}});var ne=_("event:bus");function ie(e){let t={signal:w,computed:$,html:k,htmlFor:R,store:f=>_(f)},o=e(t),r={},i=o.map(f=>{if(f.path==="*")return r[f.name||"*"]={...f,keys:[],regex:null,catchAll:!0},{...f,keys:[],regex:null,catchAll:!0};let a=[],p=new RegExp("^"+f.path.replace(/:([^/]+)/g,(h,m)=>(a.push(m),"([^/]+)"))+"$");return r[f.name]={...f,keys:a,regex:p},{...f,keys:a,regex:p}}),s=w(n(location.hash));window.addEventListener("hashchange",()=>{s.value=n(location.hash)});function n(f){let a=f.slice(1)||"/";for(let h of i){if(h.catchAll)continue;let m=a.match(h.regex);if(m){let C={};return h.keys.forEach((mt,se)=>C[mt]=m[se+1]),{path:a,route:h,params:C}}}let p=i.find(h=>h.catchAll);return{path:a,route:p||{render:()=>t.html`404`},params:{}}}function c(f,a={}){let p=r[f];if(!p)throw new Error(`Route "${f}" not found`);let h=p.path;for(let m of p.keys){if(!(m in a))throw new Error(`Missing param "${m}" for route "${f}"`);h=h.replace(":"+m,a[m])}return"#"+h}function l(f,a){r[f]?location.hash=c(f,a):location.hash=f}function d(){let{route:f,params:a}=s.value;return f.render({...t,...a})}return{current:s,navigate:l,View:d,route:c}}return ue(Pe);})();
/*! Bundled license information:

uhtml/esm/index.js:
  (*! (c) Andrea Giammarchi - MIT *)

uhtml/esm/keyed.js:
  (*! (c) Andrea Giammarchi - MIT *)
*/
