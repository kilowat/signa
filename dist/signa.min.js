(()=>{var bt=(e,t,r,o,c)=>{let n=r.length,s=t.length,i=n,f=0,a=0,p=null;for(;f<s||a<i;)if(s===f){let u=i<n?a?o(r[a-1],-0).nextSibling:o(r[i],0):c;for(;a<i;)e.insertBefore(o(r[a++],1),u)}else if(i===a)for(;f<s;)(!p||!p.has(t[f]))&&e.removeChild(o(t[f],-1)),f++;else if(t[f]===r[a])f++,a++;else if(t[s-1]===r[i-1])s--,i--;else if(t[f]===r[i-1]&&r[a]===t[s-1]){let u=o(t[--s],-0).nextSibling;e.insertBefore(o(r[a++],1),o(t[f++],-0).nextSibling),e.insertBefore(o(r[--i],1),u),t[s]=r[i]}else{if(!p){p=new Map;let u=a;for(;u<i;)p.set(r[u],u++)}if(p.has(t[f])){let u=p.get(t[f]);if(a<u&&u<i){let l=f,d=1;for(;++l<s&&l<i&&p.get(t[l])===u+d;)d++;if(d>u-a){let g=o(t[f],0);for(;a<u;)e.insertBefore(o(r[a++],1),g)}else e.replaceChild(o(r[a++],1),o(t[f++],-1))}else f++}else e.removeChild(o(t[f++],-1))}return r};var{isArray:P}=Array,{getPrototypeOf:ae,getOwnPropertyDescriptor:le}=Object;var Et="http://www.w3.org/2000/svg",v=[],j=()=>document.createRange(),w=(e,t,r)=>(e.set(t,r),r),Ct=(e,t)=>{let r;do r=le(e,t);while(!r&&(e=ae(e)));return r},St=(e,t)=>t.reduceRight(ue,e),ue=(e,t)=>e.childNodes[t];var{setPrototypeOf:pe}=Object,Nt=e=>{function t(r){return pe(r,new.target.prototype)}return t.prototype=e.prototype,t};var M,L=(e,t,r)=>(M||(M=j()),r?M.setStartAfter(e):M.setStartBefore(e),M.setEndAfter(t),M.deleteContents(),e);var ot=({firstChild:e,lastChild:t},r)=>L(e,t,r),Mt=!1,U=(e,t)=>Mt&&e.nodeType===11?1/t<0?t?ot(e,!0):e.lastChild:t?e.valueOf():e.firstChild:e,Ot=e=>document.createComment(e),B=class extends Nt(DocumentFragment){#e=Ot("<>");#r=Ot("</>");#t=v;constructor(t){super(t),this.replaceChildren(this.#e,...t.childNodes,this.#r),Mt=!0}get firstChild(){return this.#e}get lastChild(){return this.#r}get parentNode(){return this.#e.parentNode}remove(){ot(this,!1)}replaceWith(t){ot(this,!0).replaceWith(t)}valueOf(){let{parentNode:t}=this;if(t===this)this.#t===v&&(this.#t=[...this.childNodes]);else{if(t){let{firstChild:r,lastChild:o}=this;for(this.#t=[r];r!==o;)this.#t.push(r=r.nextSibling)}this.replaceChildren(...this.#t)}return this}};var kt=(e,t,r)=>e.setAttribute(t,r),$=(e,t)=>e.removeAttribute(t),de=(e,t)=>{for(let r in t){let o=t[r],c=r==="role"?r:`aria-${r}`;o==null?$(e,c):kt(e,c,o)}return t},V,me=(e,t,r)=>{r=r.slice(1),V||(V=new WeakMap);let o=V.get(e)||w(V,e,{}),c=o[r];return c&&c[0]&&e.removeEventListener(r,...c),c=P(t)?t:[t,!1],o[r]=c,c[0]&&e.addEventListener(r,...c),t};var b=(e,t)=>{let{t:r,n:o}=e,c=!1;switch(typeof t){case"object":if(t!==null){(o||r).replaceWith(e.n=t.valueOf());break}case"undefined":c=!0;default:r.data=c?"":t,o&&(e.n=null,o.replaceWith(r));break}return t},ve=(e,t)=>it(e,t,t==null?"class":"className"),xe=(e,t)=>{let{dataset:r}=e;for(let o in t)t[o]==null?delete r[o]:r[o]=t[o];return t},H=(e,t,r)=>e[r]=t,ye=(e,t,r)=>H(e,t,r.slice(1)),it=(e,t,r)=>t==null?($(e,r),t):H(e,t,r),At=(e,t)=>(typeof t=="function"?t(e):t.current=e,t),nt=(e,t,r)=>(t==null?$(e,r):kt(e,r,t),t),ge=(e,t)=>t==null?it(e,t,"style"):H(e.style,t,"cssText"),we=(e,t,r)=>(e.toggleAttribute(r.slice(1),t),t),S=(e,t,r)=>{let{length:o}=t;if(e.data=`[${o}]`,o)return bt(e.parentNode,r,t,U,e);switch(r.length){case 1:r[0].remove();case 0:break;default:L(U(r[0],0),U(r.at(-1),-0),!1);break}return v},G=new Map([["aria",de],["class",ve],["data",xe],["ref",At],["style",ge]]),_t=(e,t,r)=>{switch(t[0]){case".":return ye;case"?":return we;case"@":return me;default:return r||"ownerSVGElement"in e?t==="ref"?At:nt:G.get(t)||(t in e?t.startsWith("on")?H:Ct(e,t)?.set?it:nt:nt)}},Tt=(e,t)=>(e.textContent=t??"",t);var k=(e,t,r)=>({a:e,b:t,c:r}),$t=(e,t)=>({b:e,c:t}),Dt=(e,t,r,o)=>({v,u:e,t,n:r,c:o}),x=()=>k(null,null,v);var st=e=>(t,r)=>{let{a:o,b:c,c:n}=e(t,r),s=document.importNode(o,!0),i=v;if(c!==v){i=[];for(let f,a,p=0;p<c.length;p++){let{a:u,b:l,c:d}=c[p],g=u===a?f:f=St(s,a=u);i[p]=Dt(l,g,d,l===S?[]:l===b?x():null)}}return $t(n?s.firstChild:new B(s),i)};var Rt=/^(?:plaintext|script|style|textarea|title|xmp)$/i,Wt=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;var be=/<([a-zA-Z0-9]+[a-zA-Z0-9:._-]*)([^>]*?)(\/?)>/g,Ee=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,Ce=/[\x01\x02]/g,Ft=(e,t,r)=>{let o=0;return e.join("").trim().replace(be,(c,n,s,i)=>`<${n}${s.replace(Ee,"=$2$1").trimEnd()}${i?r||Wt.test(n)?" /":`></${n}`:""}>`).replace(Ce,c=>c===""?`<!--${t+o++}-->`:t+o++)};var Z=document.createElement("template"),ct,ft,Pt=(e,t)=>{if(t)return ct||(ct=document.createElementNS(Et,"svg"),ft=j(),ft.selectNodeContents(ct)),ft.createContextualFragment(e);Z.innerHTML=e;let{content:r}=Z;return Z=Z.cloneNode(!1),r};var at=e=>{let t=[],r;for(;r=e.parentNode;)t.push(t.indexOf.call(r.childNodes,e)),e=r;return t},jt=()=>document.createTextNode(""),Oe=(e,t,r)=>{let o=Pt(Ft(e,D,r),r),{length:c}=e,n=v;if(c>1){let f=[],a=document.createTreeWalker(o,129),p=0,u=`${D}${p++}`;for(n=[];p<c;){let l=a.nextNode();if(l.nodeType===8){if(l.data===u){let d=P(t[p-1])?S:b;d===b&&f.push(l),n.push(k(at(l),d,null)),u=`${D}${p++}`}}else{let d;for(;l.hasAttribute(u);){d||(d=at(l));let g=l.getAttribute(u);n.push(k(d,_t(l,g,r),g)),$(l,u),u=`${D}${p++}`}!r&&Rt.test(l.localName)&&l.textContent.trim()===`<!--${u}-->`&&(n.push(k(d||at(l),Tt,null)),u=`${D}${p++}`)}}for(p=0;p<f.length;p++)f[p].replaceWith(jt())}let{childNodes:s}=o,{length:i}=s;return i<1?(i=1,o.appendChild(jt())):i===1&&c!==1&&s[0].nodeType!==1&&(i=0),w(Lt,e,k(o,n,i===1))},Lt=new WeakMap,D="is\xB5",lt=e=>(t,r)=>Lt.get(t)||Oe(t,r,e);var Me=st(lt(!1)),ke=st(lt(!0)),ut=(e,{s:t,t:r,v:o})=>{if(e.a!==r){let{b:c,c:n}=(t?ke:Me)(r,o);e.a=r,e.b=c,e.c=n}for(let{c}=e,n=0;n<c.length;n++){let s=o[n],i=c[n];switch(i.u){case S:i.v=S(i.t,Ae(i.c,s),i.v);break;case b:let f=s instanceof y?ut(i.c||(i.c=x()),s):(i.c=null,s);f!==i.v&&(i.v=b(i,f));break;default:s!==i.v&&(i.v=i.u(i.t,s,i.n,i.v));break}}return e.b},Ae=(e,t)=>{let r=0,{length:o}=t;for(o<e.length&&e.splice(o);r<o;r++){let c=t[r];c instanceof y?t[r]=ut(e[r]||(e[r]=x()),c):e[r]=null}return t},y=class{constructor(t,r,o){this.s=t,this.t=r,this.v=o}toDOM(t=x()){return ut(t,this)}};var Bt=e=>(t,...r)=>new y(e,t,r),A=Bt(!1),z=Bt(!0);var Ut=new WeakMap,q=(e,t,r)=>{let o=Ut.get(e)||w(Ut,e,x()),{b:c}=o,n=r&&typeof t=="function"?t():t,s=n instanceof y?n.toDOM(o):n;return c!==s&&e.replaceChildren((o.b=s).valueOf()),e};var Vt=new WeakMap,Ht=e=>(t,r)=>{function o(n,...s){return new y(e,n,s).toDOM(this)}let c=Vt.get(t)||w(Vt,t,new Map);return c.get(r)||w(c,r,o.bind(x()))},pt=Ht(!1),_e=Ht(!0);var Zt=new FinalizationRegistry(([e,t,r])=>{r&&console.debug(`%c${String(t)}`,"font-weight:bold","collected"),e(t)}),Gt=Object.create(null),zt=(e,t,{debug:r,handler:o,return:c,token:n=e}=Gt)=>{let s=c||new Proxy(e,o||Gt),i=[s,[t,e,!!r]];return n!==!1&&i.push(n),Zt.register(...i),s},qt=e=>Zt.unregister(e);var ht=new WeakMap,Te=e=>e(),I=!0,dt=e=>(t,r)=>{if(I=typeof r!="function",It(t),I)return q(t,r,!1);I=!0;let o=new WeakRef(t),c=e(()=>{q(o.deref(),r(),!1)});return ht.set(t,c),zt(c,Te,{return:t})},It=e=>{let t=ht.get(e);t&&(I&&ht.delete(e),qt(t),t())};var $e=Symbol.for("preact-signals");function vt(){if(_>1)_--;else{for(var e,t=!1;R!==void 0;){var r=R;for(R=void 0,mt++;r!==void 0;){var o=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&Kt(r))try{r.c()}catch(c){t||(e=c,t=!0)}r=o}}if(mt=0,_--,t)throw e}}var h=void 0;function Xt(e){var t=h;h=void 0;try{return e()}finally{h=t}}var R=void 0,_=0,mt=0,X=0;function Jt(e){if(h!==void 0){var t=e.n;if(t===void 0||t.t!==h)return t={i:0,S:e,p:h.s,n:void 0,t:h,e:void 0,x:void 0,r:t},h.s!==void 0&&(h.s.n=t),h.s=t,e.n=t,32&h.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=h.s,t.n=void 0,h.s.n=t,h.s=t),t}}function m(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}m.prototype.brand=$e;m.prototype.h=function(){return!0};m.prototype.S=function(e){var t=this,r=this.t;r!==e&&e.e===void 0&&(e.x=r,this.t=e,r!==void 0?r.e=e:Xt(function(){var o;(o=t.W)==null||o.call(t)}))};m.prototype.U=function(e){var t=this;if(this.t!==void 0){var r=e.e,o=e.x;r!==void 0&&(r.x=o,e.e=void 0),o!==void 0&&(o.e=r,e.x=void 0),e===this.t&&(this.t=o,o===void 0&&Xt(function(){var c;(c=t.Z)==null||c.call(t)}))}};m.prototype.subscribe=function(e){var t=this;return E(function(){var r=t.value,o=h;h=void 0;try{e(r)}finally{h=o}},{name:"sub"})};m.prototype.valueOf=function(){return this.value};m.prototype.toString=function(){return this.value+""};m.prototype.toJSON=function(){return this.value};m.prototype.peek=function(){var e=h;h=void 0;try{return this.value}finally{h=e}};Object.defineProperty(m.prototype,"value",{get:function(){var e=Jt(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(mt>100)throw new Error("Cycle detected");this.v=e,this.i++,X++,_++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{vt()}}}});function N(e,t){return new m(e,t)}function Kt(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function Yt(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function Qt(e){for(var t=e.s,r=void 0;t!==void 0;){var o=t.p;t.i===-1?(t.S.U(t),o!==void 0&&(o.n=t.n),t.n!==void 0&&(t.n.p=o)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=o}e.s=r}function O(e,t){m.call(this,void 0),this.x=e,this.s=void 0,this.g=X-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}O.prototype=new m;O.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===X))return!0;if(this.g=X,this.f|=1,this.i>0&&!Kt(this))return this.f&=-2,!0;var e=h;try{Yt(this),h=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return h=e,Qt(this),this.f&=-2,!0};O.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}m.prototype.S.call(this,e)};O.prototype.U=function(e){if(this.t!==void 0&&(m.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};O.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(O.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=Jt(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function J(e,t){return new O(e,t)}function te(e){var t=e.u;if(e.u=void 0,typeof t=="function"){_++;var r=h;h=void 0;try{t()}catch(o){throw e.f&=-2,e.f|=8,xt(e),o}finally{h=r,vt()}}}function xt(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,te(e)}function De(e){if(h!==this)throw new Error("Out-of-order effect");Qt(this),h=e,this.f&=-2,8&this.f&&xt(this),vt()}function T(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}T.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};T.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,te(this),Yt(this),_++;var e=h;return h=this,De.bind(this,e)};T.prototype.N=function(){2&this.f||(this.f|=2,this.o=R,R=this)};T.prototype.d=function(){this.f|=8,1&this.f||xt(this)};T.prototype.dispose=function(){this.d()};function E(e,t){var r=new T(e,t);try{r.c()}catch(c){throw r.d(),c}var o=r.d.bind(r);return o[Symbol.dispose]=o,o}var yt=[];function ee(){return{cleanups:[],currentPhase:null}}function re(e,t){e.currentPhase=t,yt.push(e)}function oe(){if(yt.length===0){console.warn("Attempting to pop empty context stack");return}let e=yt.pop();e&&(e.currentPhase=null)}var K=new Map;function Y(e,t){K.has(e)&&console.warn(`Context key "${e}" allready register`),K.set(e,t)}function Q(e){if(!K.has(e))throw new Error(`Context key "${e}" not found`);return K.get(e)}var W={};function tt(e,t){if(W&&W[e])throw new Error(`Store "${e}" is already defined`);W[e]={factory:t}}function F(e){let t=W[e];if(!t)throw new Error(`Store "${e}" is not defined`);return t.instance||(t.instance=t.factory({signal:N,effect:E,computed:J,store:r=>F(r),inject:Q,provide:Y,eventBus:W["event:bus"]})),t.instance}tt("event:bus",({signal:e})=>{let t=e([]),r=e(0);return{emit:(o,c)=>{t.value=[...t.value,{type:o,payload:c,ts:Date.now()}],r.value++},on:(o,c)=>{let n=E(()=>{let s=t.value.filter(i=>i.type===o);s.length&&(s.forEach(i=>c(i.payload)),t.value=t.value.filter(i=>i.type!==o))});return()=>n()}}});var et=F("event:bus");var rt=0,ne=!1;function Re(){ne||(ne=!0,et.emit("components:ready"))}function ie(){rt++}function gt(){rt--,rt===0&&queueMicrotask(()=>{rt===0&&Re()})}function se(e){let t={},r=e.map(f=>{if(f.path==="*")return t[f.name||"*"]={...f,keys:[],regex:null,catchAll:!0},{...f,keys:[],regex:null,catchAll:!0};let a=[],p=new RegExp("^"+f.path.replace(/:([^/]+)/g,(u,l)=>(a.push(l),"([^/]+)"))+"$");return t[f.name]={...f,keys:a,regex:p},{...f,keys:a,regex:p}}),o=N(c(location.hash));window.addEventListener("hashchange",()=>{o.value=c(location.hash)});function c(f){let a=f.slice(1)||"/";for(let u of r){if(u.catchAll)continue;let l=a.match(u.regex);if(l){let d={};return u.keys.forEach((g,C)=>d[g]=l[C+1]),{path:a,route:u,params:d}}}let p=r.find(u=>u.catchAll);return{path:a,route:p||{render:()=>A`404`},params:{}}}function n(f,a={}){let p=t[f];if(!p)throw new Error(`Route "${f}" not found`);let u=p.path;for(let l of p.keys){if(!(l in a))throw new Error(`Missing param "${l}" for route "${f}"`);u=u.replace(":"+l,a[l])}return"#"+u}function s(f,a){t[f]?location.hash=n(f,a):location.hash=f}function i(){let{route:f,params:a}=o.value;return f.render(a)}return{current:o,navigate:s,view:i,route:n}}function We(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}function ce(e){return e&&typeof e=="object"&&typeof e.peek=="function"&&"value"in e}function fe(e,t){let r=dt(E);class o extends HTMLElement{constructor(){super(),this.hooksContext=ee(),this.cleanup=[],this.isMounted=!1,this.slots={default:[]},this.props=new Map,this._rawProps={}}#e(n){let s=E(()=>{let i=n();typeof i=="function"&&this.hooksContext.cleanups.push(i)});this.hooksContext.cleanups.push(()=>s())}#r(n,s={}){let{type:i,default:f}=s;if(this.props.has(n))return this.props.get(n);let a=this[n];if(ce(a))return a.__type=i??a.__type??null,this.props.set(n,a),this._rawProps[n]=a,a;if(typeof a=="function")return this.props.set(n,a),a;let p=this.getAttribute(`data-${n}`),u=We(n),l=p??this.getAttribute(`data-${u}`),d=i;d||(a!==void 0?d=a.constructor:l!==null?isNaN(Number(l))?l==="true"||l==="false"?d=Boolean:l.startsWith("{")||l.startsWith("[")?d=Object:d=String:d=Number:f!==void 0?d=f.constructor:d=String);let g=a!==void 0?a:l!==null?this.#o(l,d):f!==void 0?f:this.#t(d),C=N(g);C.__type=d,this._rawProps[n]=C;let wt={get value(){return C.value},set value(Fe){},peek:C.peek.bind(C)};return this.props.set(n,wt),wt}#t(n){switch(n){case String:return"";case Number:return 0;case Boolean:return!1;case Object:return{};case Array:return[];default:return null}}#o(n,s){if(n===null)return null;switch(s){case Number:return Number(n);case Boolean:return n!=="false";case Object:case Array:try{return JSON.parse(n)}catch{return s===Object?{}:[]}default:return n}}#n(n,s){let i=n.replace(/^data-/,"").replace(/-([a-z])/g,(u,l)=>l.toUpperCase()),f=this._rawProps[i];if(!f||!ce(f))return;let a=f.__type||String,p=this.#o(s,a);f.value=p}#i(){let n={default:[]};Array.from(this.childNodes).forEach(s=>{if(s instanceof Element){let i=s.getAttribute("data-slot");i?(n[i]??=[],n[i].push(...Array.from(s.childNodes))):n.default.push(s)}else n.default.push(s)}),this.slots=n}#s(){let n=Object.assign(s=>this.slots[s]||[],{default:this.slots.default});return{$this:this,signal:N,effect:this.#e.bind(this),computed:J,html:A,htmlFor:pt,svg:z,prop:this.#r.bind(this),slot:n,store:s=>F(s),inject:Q,provide:Y,createRouter:se,eventBus:et}}connectedCallback(){this.isMounted=!0,ie(),this._attrObserver=new MutationObserver(n=>{for(let s of n)if(s.type==="attributes"&&s.attributeName.startsWith("data-")){let i=this.getAttribute(s.attributeName);this.#n(s.attributeName,i)}}),this._attrObserver.observe(this,{attributes:!0}),requestAnimationFrame(()=>{if(this.isMounted)try{this.#i(),re(this.hooksContext,"setup");let n=t(this.#s());if(n!==void 0){let s=r(this,n);typeof s=="function"&&this.cleanup.push(s)}oe(),queueMicrotask(()=>gt())}catch(n){console.error(`Error mounting component ${this.tagName.toLowerCase()}:`,n),gt()}})}disconnectedCallback(){this.isMounted=!1,this._attrObserver&&this._attrObserver.disconnect(),this.cleanup.forEach(n=>{try{n()}catch{}}),this.cleanup=[],this.hooksContext.cleanups.forEach(n=>{try{n()}catch{}}),this.hooksContext.cleanups=[]}}if(customElements.get(e))throw new Error(`Component "${e}" is already defined`);customElements.define(e,o)}Object.assign(window,{defComponent:fe,defStore:tt});})();
/*! Bundled license information:

uhtml/esm/index.js:
  (*! (c) Andrea Giammarchi - MIT *)

uhtml/esm/keyed.js:
  (*! (c) Andrea Giammarchi - MIT *)
*/
