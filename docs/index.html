<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Компоненты — UWebcomponents</title>
    <link rel="stylesheet" href="style.css" />
    <script src="../dist/signa.min.js"></script>
    <link rel="stylesheet" href="default.css">
    <script src="highlight.min.js"></script>

    <script>hljs.highlightAll();</script>
    <script src="components/popup.js"></script>
    <link rel="stylesheet" href="components/popup.css" />

    <script src="components/navdrawer.js"></script>
    <link rel="stylesheet" href="components/navdrawer.css" />

    <style>

    </style>
</head>

<body>
    <aside class="sidebar">
        <div class="logo">UWebcomponents</div>

        <div>
            <div class="nav-section-title">Компоненты</div>
            <a class="nav-link" href="#popup-window">Popup window</a>
            <a class="nav-link" href="#nav-drawer">Navigation drawer</a>
        </div>
    </aside>

    <main class="content">
        <h1 id="intro">Веб компоненты</h1>

        <h2 id="popup-window">Модальное окно</h2>
        <pre><code class="language-html">
<script type="text/plain">
<!-- Id блока который указан в data-content-id будет в качестве контента для окна -->
<popup-trigger data-content-id="popup-content">
    <button class="btn-accent">Открыть окно</button>
</popup-trigger>
<div style="display:none;height:0" aria-hidden="">
    <div id="popup-content">блок который будет в качестве контента для окна </div>
</div>
<!-- Открыть в popup компонент и передать в этот компонент параметры-->
<popup-trigger data-component="my-user" data-user-id="1">
    Открыть компонент my-user с параметрам user-id
</popup-trigger>

<!-- Расположить в конец body -->
<popup-window></popup-window>
</script>
</code></pre>

        <pre><code class="language-javascript">// Программное открытие 
const options = {
    title
    body
    content
    autoClose // Время в милисек автозакрытия окна
    onClose
} 
//Открыть глобально 
document.querySelector('popup-window', ).open({ title: 'title' })
// Через event bus внутри компонентов
eventBus.emit('popup:open', { title: 'title' });
eventBus.emit('popup:close'); 
<script type="text/plain">
defComponent('eventbus-open', ({ html, eventBus }) => {
    const userId = "22";
    const open = () => {
        eventBus.emit('popup:open', { content: () => html`<my-user .userId=${userId}></my-user>` })
    }
    return () => html`<button class="btn-accent" onclick=${open}>Открыть через eventubs</button>`
})
</script>
</code></pre>
        <p>
            <popup-trigger data-content-id="popup-content">
                <button class="btn-accent">Открыть окно с указанием блока по id с конентом</button>
            </popup-trigger>
        </p>

        <p>
        <div style="display:none;height:0" aria-hidden="">
            <div id="popup-content">блок c контеном</div>
        </div>
        </p>
        <p>
            <popup-trigger data-component="my-user" data-user-id="1">
                <button class="btn-accent"> Открыть компонент с параметрами</button>
            </popup-trigger>
        </p>
        <p>
            <eventbus-open></eventbus-open>
        </p>
        <script>
            defComponent('my-user', ({ html, prop }) => {
                const userId = prop('userId');
                return () => html`userId: ${userId.value}`
            });
            defComponent('eventbus-open', ({ html, eventBus }) => {
                const userId = "22";
                const open = () => {
                    eventBus.emit('popup:open', { content: () => html`<my-user .userId=${userId}></my-user>` })
                }
                return () => html`<button class="btn-accent" onclick=${open}>Открыть через eventubs</button>`
            })
        </script>
        <p>
        <div>
            <button class="btn-accent" onclick="document.querySelector('popup-window', )?.open({ title: 'title' })">
                Открыть глобально
            </button>
        </div>
        </p>

        <popup-window></popup-window>

        <h2 id="nav-drawer" class="text-2xl font-semibold mt-10">Navigation drawer</h2>
        <pre><code class="language-html"><script type="text/plain">
<toggle-drawer></toggle-drawer>
<nav-drawer>
    <ul>
        <li><a href="#">Главная</a></li>
        <li><a href="#">О нас</a></li>
        <li><a href="#">Услуги</a></li>
        <li><a href="#">Контакты</a></li>
    </ul>
</nav-drawer>
<!--Глобавльный доступ к состоянию-->
document.querySelector('nav-drawer')?.drawer 
</script>
</code></pre>

        <div data-theme="dark">
            <toggle-drawer></toggle-drawer>
            <div class="margin-line">
                <button class=" btn-accent" onclick="document.querySelector('nav-drawer')?.drawer.toggle()">Открыть
                    через
                    глобальную функцию
                </button>
            </div>
            <nav-drawer>
                <ul>
                    <li><a href="#">Главная</a></li>
                    <li><a href="#">О нас</a></li>
                    <li><a href="#">Услуги</a></li>
                    <li><a href="#">Контакты</a></li>
                </ul>
            </nav-drawer>
        </div>

        <h2 id="grid" class="text-2xl font-semibold mt-10">Пример сетки</h2>
        <p>Ты можешь делать колонки с помощью классов <code>.row</code> и <code>.col-*</code>.</p>

        <div class="row" style="margin-top:20px;">
            <div class="col col-6">
                <div class="box">Колонка 50%</div>
            </div>
            <div class="col col-6">
                <div class="box">Колонка 50%</div>
            </div>
        </div>

        <div class="row" style="margin-top:20px;">
            <div class="col col-4">
                <div class="box">33%</div>
            </div>
            <div class="col col-4">
                <div class="box">33%</div>
            </div>
            <div class="col col-4">
                <div class="box">33%</div>
            </div>
        </div>

        <div class="row" style="margin-top:20px;">
            <div class="col col-3">
                <div class="box">25%</div>
            </div>
            <div class="col col-3">
                <div class="box">25%</div>
            </div>
            <div class="col col-3">
                <div class="box">25%</div>
            </div>
            <div class="col col-3">
                <div class="box">25%</div>
            </div>
        </div>

    </main>

</body>

</html>